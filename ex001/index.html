<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro V1</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <main>
        <section id="record">
            <header>
                <h1>Registrar</h1>
                <p>Se atualizar perde os registros</p>
            </header>
        
            <form id="addreg">
                <label for="name">Nome:</label>
                <input type="text" name="name" id="name" required>
                <br />
                <label for="date">Data:</label>
                <input type="date" name="date" id="date" required pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}">
                <br />
                <label for="price">Preço:</label>
                <input type="number" name="price" id="price" min=1 required>
                <br />
        
                <input type="button" value="Registrar">
            </form>
        </section>

        <hr>

        <section id="result">
            <h1>Registros</h1>
            <select name="who" id="who">
                <option value="all" checked>Todos</option>
            </select>

            <div>
                <table>
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Nome</th>
                            <th>Data</th>
                            <th>Preço</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <th>Qntd</th>
                            <th></th>
                            <th></th>
                            <th>Total</th>
                            <th></th>
                            <th></th>
                        </tr>
                        <tr>
                            <td id="amount"></td>
                            <td></td>
                            <td></td>
                            <td id="total"></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </section>
    </main>

    <section id="changeregister">
        <button onclick="closeRecordChange()"><ion-icon name="close"></ion-icon></button>

        <div>
            <h1>Antigo nome</h1>
            <p>Antigas informações</p>

            <form>
                <label for="newprice">Novo preço:</label>
                <input type="number" id="newprice">
                <br/>
                <label for="newdate">Nova data:</label>
                <input type="date" name="newdate" id="newdate">
                <br />
                <input type="button" value="Alterar" id="change" onclick="updateRecords()">
            </form>
        </div>
    </section>

    <footer>
        <p><a href="https://xdanielz.github.io/javascript_exercicios/">Outros exércicios</a></p>
        <p><a href="https://github.com/xDanielz" target="_blanc">Daniel Rodrigues</a></p>
    </footer>

    <!--Configurando data-->
    <script>
        let date = new Date();
        let day = date.getDate().toString()
        let month = date.getMonth() + 1;
        let year = date.getFullYear();
        element_date = document.querySelector('input[type=date]')
        element_date.value = `${year}-${month}-${day}`
        element_date.min = `${year}-01-01`
        element_date.max = `${year}-${month}-${day}`
    </script>

    <!--Meus scrips respónsaveis pelas operações CRUD-->
    <script src="scripts/addregister.js"></script>
    <script src="scripts/viewrecords.js"></script>
    <script src="scripts/addbuttons.js"></script>
    <script src="scripts/update_register.js"></script>
    <script src="scripts/delete_register.js"></script>

    <!--Scripts para os icones dos butões de deletar e alterar-->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>
</html>